---
layout: post
title: Java：Future使用
tags: java
---


> 总结并记录Future类的使用

##  目录
* 目录
{:toc}
# 使用方法

一个简单的Future的使用例子：

```java
public class FutureTest{
	
    // 定义为String类型的返回值
    public static class Task implements Callable<String> {
        @Override
        public String call() throws Exception {
            System.out.println("execute!!!");
            return "complete";
        }
    }

    public static void main(String[] args) throws InterruptedException,ExecutionException {
        // 接受返回结果。
        List<Future<String>> results = new ArrayList<Future<String>>();
        ExecutorService executorService = Executors.newCachedThreadPool();
        for (int i = 0; i < 10; i++) {
            // 提交线程池进行运行。
            results.add(executorService.submit(new Task()));
        }
        
        for (Future<String> future : results) {
            // 调用get接口获取返回值。
            System.out.println(future.get());
        }

        System.out.println("Main complete");
        if (!executorService.isShutdown()) {
            executorService.shutdown();
        }
    }
}
```

一个简单的线程的使用例子：

```java
public class Run{
 
	public static class Task implements Runnable {
		@Override
		public void run() {
			System.out.println("execute!!!");
		}
	}
 
	public static void main(String[] args) {
 
		ExecutorService executorService = Executors.newCachedThreadPool();
         for (int i = 0; i < 10; i++) {
			executorService.submit(new Task());
		}
 
        if (!executorService.isShutdown()) 
        	executorService.shutdown();
        }
}
```

对比来看，Future类解决的是获取线程返回值的问题，在线程执行完以后便会将结果返回，而Runable则是没有任何的返回值，执行完便结束。可以做压力测试。

深度学习[JavaFuture](https://www.jianshu.com/p/3aa308a5f182)